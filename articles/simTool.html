<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The simTool package: Facilitate simulations • simTool</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The simTool package: Facilitate simulations">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simTool</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/simTool.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MarselScheer/simTool/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The simTool package: Facilitate simulations</h1>
                        <h4 data-toc-skip class="author">Marsel
Scheer</h4>
            
            <h4 data-toc-skip class="date">2025-04-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MarselScheer/simTool/blob/fix-pkgdown/vignettes/simTool.Rmd" class="external-link"><code>vignettes/simTool.Rmd</code></a></small>
      <div class="d-none name"><code>simTool.Rmd</code></div>
    </div>

    
    
<style>
p {
    max-width: 940px;
}
</style>
<div class="section level2">
<h2 id="a-first-example">A first example<a class="anchor" aria-label="anchor" href="#a-first-example"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Generate data</li>
<li>Fit different models</li>
<li>Repeat step 1 and 2 three times</li>
<li>Summarize the results with respect to the different data generating
functions and models by calculating mean and standard deviation for the
corresponding model terms</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regData</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">SD</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">x</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, sd <span class="op">=</span> <span class="va">SD</span><span class="op">)</span></span>
<span>  <span class="fu">tibble</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"regData"</span>, n <span class="op">=</span> <span class="fl">5L</span>, SD <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"lm"</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y~x"</span>, <span class="st">"y~I(x^2)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  post_analyze <span class="op">=</span> <span class="fu">broom</span><span class="fu">::</span><span class="va"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span>,</span>
<span>  summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span>, sd <span class="op">=</span> <span class="va">sd</span><span class="op">)</span>,</span>
<span>  group_for_summary <span class="op">=</span> <span class="st">"term"</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>Warning:  [1m [22mThe `.dots` argument of `group_by()` is deprecated as of dplyr 1.0.0.
 [36mℹ [39m The deprecated feature was likely used in the  [34mdplyr [39m package.
  Please report the issue at  [3m [34m&lt;https://github.com/tidyverse/dplyr/issues&gt; [39m [23m.
 [90mThis warning is displayed once every 8 hours. [39m
 [90mCall `lifecycle::last_lifecycle_warnings()` to see where this warning was generated. [39m</code></pre>
<pre><code> [38;5;246m# A tibble: 16 × 12 [39m
   fun         n    SD replications summary_fun proc  formula  term     estimate std.error statistic
    [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;dbl&gt; [39m [23m      [3m [38;5;246m&lt;dbl&gt; [39m [23m      [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m 1 [39m regData     5     1            1 mean        lm    y~x      (Interc…   10.1      0.692     16.5  
 [38;5;250m 2 [39m regData     5     1            1 mean        lm    y~x      x           2.92     1.13       3.59 
 [38;5;250m 3 [39m regData     5     1            1 mean        lm    y~I(x^2) (Interc…   10.5      0.544     20.2  
 [38;5;250m 4 [39m regData     5     1            1 mean        lm    y~I(x^2) I(x^2)      2.71     1.04       3.20 
 [38;5;250m 5 [39m regData     5     1            1 sd          lm    y~x      (Interc…    1.45     0.288      6.89 
 [38;5;250m 6 [39m regData     5     1            1 sd          lm    y~x      x           1.84     0.471      3.71 
 [38;5;250m 7 [39m regData     5     1            1 sd          lm    y~I(x^2) (Interc…    1.32     0.185      4.38 
 [38;5;250m 8 [39m regData     5     1            1 sd          lm    y~I(x^2) I(x^2)      2.15     0.352      2.62 
 [38;5;250m 9 [39m regData     5     2            1 mean        lm    y~x      (Interc…    9.86     1.26       7.85 
 [38;5;250m10 [39m regData     5     2            1 mean        lm    y~x      x           3.42     2.05       1.66 
 [38;5;250m11 [39m regData     5     2            1 mean        lm    y~I(x^2) (Interc…   10.6      1.18       8.99 
 [38;5;250m12 [39m regData     5     2            1 mean        lm    y~I(x^2) I(x^2)      2.65     2.24       1.17 
 [38;5;250m13 [39m regData     5     2            1 sd          lm    y~x      (Interc…    0.209    0.037 [4m4 [24m     0.393
 [38;5;250m14 [39m regData     5     2            1 sd          lm    y~x      x           1.17     0.061 [4m0 [24m     0.515
 [38;5;250m15 [39m regData     5     2            1 sd          lm    y~I(x^2) (Interc…    0.128    0.048 [4m8 [24m     0.436
 [38;5;250m16 [39m regData     5     2            1 sd          lm    y~I(x^2) I(x^2)      1.32     0.092 [4m7 [24m     0.542
 [38;5;246m# ℹ 1 more variable: p.value &lt;dbl&gt; [39m
Number of data generating functions: 2
Number of analyzing procedures: 2
Number of replications: 3
Estimated replications per hour: 87214
Start of the simulation: 2025-04-05 13:33:17.152267
End of the simulation: 2025-04-05 13:33:17.276098</code></pre>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The purpose of the <em>simTool</em> package is to disengage the
research from any kind of administrative source code which is usually an
annoying necessity of a simulation study.</p>
<p>This vignette will give an introduction into the <em>simTool</em>
package mainly by examples of growing complexity. The workhorse is the
function <em>eval_tibbles</em>. Every parameter of this function will be
discussed briefly and the functionality is illustrated by at least one
example.</p>
</div>
<div class="section level2">
<h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h2>
<p>The workflow is quite easy and natural. One defines two
<em>data.frames</em> (or <em>tibbles</em>), the first one represents the
functions that generate the data sets and the second one represents the
functions that analyze the data. These two <em>data.frames</em> are
passed to <em>eval_tibbles</em> which conducts the simulation.
Afterwards, the results can nicely be displayed as a
<em>data.frame</em>.</p>
</div>
<div class="section level2">
<h2 id="defining-the-data-frames-for-data-generation-and-analysis">Defining the <em>data.frames</em> for data generation and
analysis<a class="anchor" aria-label="anchor" href="#defining-the-data-frames-for-data-generation-and-analysis"></a>
</h2>
<p>There are 3 rules:</p>
<ul>
<li>the first column ( a <em>character</em> vector) defines the
functions to be called</li>
<li>the other columns are the parameters that are passed to function
specified in the first column</li>
<li>The entry <em>NA</em> will not be passed to the function specified
in the first column.</li>
</ul>
<p>The function <em>expand_tibble</em> is a convenient function for
defining such <em>data.frames</em>.</p>
<p>We now define the data generation functions for our first
simulation.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rexp"</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">20L</span><span class="op">)</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rnorm"</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">20L</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 8 × 4 [39m
  fun       n  rate  mean
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m
 [38;5;250m1 [39m rexp     10     1     [31mNA [39m
 [38;5;250m2 [39m rexp     20     1     [31mNA [39m
 [38;5;250m3 [39m rexp     10     2     [31mNA [39m
 [38;5;250m4 [39m rexp     20     2     [31mNA [39m
 [38;5;250m5 [39m rnorm    10     [31mNA [39m     1
 [38;5;250m6 [39m rnorm    20     [31mNA [39m     1
 [38;5;250m7 [39m rnorm    10     [31mNA [39m     2
 [38;5;250m8 [39m rnorm    20     [31mNA [39m     2</code></pre>
<p>This <em>data.frame</em> represents 8 <em>R</em>-functions. For
instance, the second row represents a function that generates 20
exponential distributed random variables with <em>rate</em> 1. Since
<em>mean=NA</em> in the second row, this parameter is not passed to
<em>rexp</em>.</p>
<p>Similar, we define the <em>data.frame</em> for data analyzing
functions.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"min"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"mean"</span>, trim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 3 × 2 [39m
  proc   trim
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m min     [31mNA [39m  
 [38;5;250m2 [39m mean    0.1
 [38;5;250m3 [39m mean    0.2</code></pre>
<p>Hence, this <em>data.frame</em> represents 3 <em>R</em>-functions
i.e. calculating the minimum and the arithmetic mean with
<em>trim=0.1</em> and <em>trim=0.2</em>.</p>
</div>
<div class="section level2">
<h2 id="the-workhorse-eval_tibbles">The workhorse <em>eval_tibbles</em><a class="anchor" aria-label="anchor" href="#the-workhorse-eval_tibbles"></a>
</h2>
<p>The workhorse <em>eval_tibbles</em> has the following simplified
pseudo code:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fl">1.</span>  convert dg to R<span class="sc">-</span>functions  {g_1, ..., g_k} </span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fl">2.</span>  convert pg to R<span class="sc">-</span>functions  {f_1, ..., f_L} </span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="fl">3.</span>  initialize result object </span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="fl">4.</span>  append dg and pg to the result object </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="fl">5.</span>  t1 <span class="ot">=</span> <span class="fu">current.time</span>() </span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="fl">6.</span>  <span class="cf">for</span> g <span class="cf">in</span>  {g_1, ..., g_k} </span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="fl">7.</span>      <span class="cf">for</span> r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">replications</span> (optionally <span class="cf">in</span> a parallel manner) </span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="fl">8.</span>          data <span class="ot">=</span> <span class="fu">g</span>() </span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="fl">9.</span>          <span class="cf">for</span> f <span class="cf">in</span>  {f_1, \ldots, f_L} </span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="fl">10.</span>             append <span class="fu">f</span>(data) to the result <span class="fu">object</span> (optionally apply a post<span class="sc">-</span>analyze<span class="sc">-</span><span class="cf">function</span>)</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="fl">11.</span>         optionally append data to the result object </span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="fl">12.</span>      optionally summarize the result object over all  </span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>         replications but separately <span class="cf">for</span> f_1, ..., <span class="fu">f_L</span> (and optional group variables)</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="fl">13.</span> t2 <span class="ot">=</span> <span class="fu">current.time</span>() </span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="fl">14.</span> Estimate the number of replications per hour from t1 and t2 </span></code></pre></div>
<p>The object returned by <em>eval_tibbles</em> is a <em>list</em> of
class <em>eval_tibbles</em>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rnorm"</span>, n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"min"</span><span class="op">)</span></span>
<span><span class="va">eg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span>data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">eg</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 4 × 6 [39m
  fun       n  mean replications proc  results
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm    10     1            1 min    - [31m1 [39m [31m. [39m [31m75 [39m 
 [38;5;250m2 [39m rnorm    10     1            2 min    - [31m0 [39m [31m. [39m [31m212 [39m
 [38;5;250m3 [39m rnorm    10     2            1 min     0.232
 [38;5;250m4 [39m rnorm    10     2            2 min     1.16 
Number of data generating functions: 2
Number of analyzing procedures: 1
Number of replications: 2
Estimated replications per hour: 79471023
Start of the simulation: 2025-04-05 13:33:17.744066
End of the simulation: 2025-04-05 13:33:17.744157</code></pre>
<p>As you can see, the function always estimates the number of
replications that can be done in one hour.</p>
<div class="section level3">
<h3 id="parameter-replications">Parameter <em>replications</em><a class="anchor" aria-label="anchor" href="#parameter-replications"></a>
</h3>
<p>Of course, this parameter controls the number of replications
conducted.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span>data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">eg</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 6 × 6 [39m
  fun       n  mean replications proc  results
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm    10     1            1 min    - [31m1 [39m [31m. [39m [31m30 [39m 
 [38;5;250m2 [39m rnorm    10     1            2 min    - [31m0 [39m [31m. [39m [31m574 [39m
 [38;5;250m3 [39m rnorm    10     1            3 min     0.503
 [38;5;250m4 [39m rnorm    10     2            1 min     0.729
 [38;5;250m5 [39m rnorm    10     2            2 min     1.06 
 [38;5;250m6 [39m rnorm    10     2            3 min    - [31m0 [39m [31m. [39m [31m272 [39m
Number of data generating functions: 2
Number of analyzing procedures: 1
Number of replications: 3
Estimated replications per hour: 99557105
Start of the simulation: 2025-04-05 13:33:17.840691
End of the simulation: 2025-04-05 13:33:17.840799</code></pre>
</div>
<div class="section level3">
<h3 id="parameter-discard_generated_data">Parameter <em>discard_generated_data</em><a class="anchor" aria-label="anchor" href="#parameter-discard_generated_data"></a>
</h3>
<p><em>eval_tibbles</em> saves ALL generated data sets.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span>data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">eg</span><span class="op">$</span><span class="va">simulation</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 2 × 6 [39m
  fun       n  mean replications proc   results
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm    10     1            1 min   - [31m0 [39m [31m. [39m [31m554 [39m  
 [38;5;250m2 [39m rnorm    10     2            1 min    0.004 [4m9 [24m [4m9 [24m</code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eg</span><span class="op">$</span><span class="va">generated_data</span></span></code></pre></div>
<pre><code>[[1]]
 [1]  1.04382239 -0.02157836  1.79342772  1.50162446 -0.55447035  1.88349784  0.79223220  2.83137401
 [9]  1.17726438  0.19415935

[[2]]
 [1] 3.947932470 2.121197052 1.645050873 3.052866250 3.163113962 1.201167182 2.775455294 0.004992648
 [9] 1.649437807 2.380864742</code></pre>
<p>In general, it is sometimes very handy to have the data sets in order
to investigate unusual or unexpected results. But saving the generated
data sets can be very memory consuming. Stop saving the generated data
sets can be obtained by setting <em>discardGeneratedData = TRUE</em>.
See command line 11 in the pseudo code.</p>
</div>
<div class="section level3">
<h3 id="parameter-summary_fun">Parameter <em>summary_fun</em><a class="anchor" aria-label="anchor" href="#parameter-summary_fun"></a>
</h3>
<p>As stated in command line 12 we can summarize the result objects over
all replications but separately for all data analyzing functions.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"runif"</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"min"</span>, <span class="st">"max"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 6 × 6 [39m
  fun       n replications summary_fun proc   value
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m runif    10            1 mean        min   0.090 [4m4 [24m
 [38;5;250m2 [39m runif    10            1 mean        max   0.910 
 [38;5;250m3 [39m runif    20            1 mean        min   0.048 [4m6 [24m
 [38;5;250m4 [39m runif    20            1 mean        max   0.953 
 [38;5;250m5 [39m runif    30            1 mean        min   0.031 [4m4 [24m
 [38;5;250m6 [39m runif    30            1 mean        max   0.967 
Number of data generating functions: 3
Number of analyzing procedures: 2
Number of replications: 1000
Estimated replications per hour: 48700819
Start of the simulation: 2025-04-05 13:33:18.040236
End of the simulation: 2025-04-05 13:33:18.114157</code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span>, sd <span class="op">=</span> <span class="va">sd</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 12 × 6 [39m
   fun       n replications summary_fun proc   value
    [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m 1 [39m runif    10            1 mean        min   0.093 [4m0 [24m
 [38;5;250m 2 [39m runif    10            1 mean        max   0.907 
 [38;5;250m 3 [39m runif    10            1 sd          min   0.086 [4m5 [24m
 [38;5;250m 4 [39m runif    10            1 sd          max   0.086 [4m0 [24m
 [38;5;250m 5 [39m runif    20            1 mean        min   0.046 [4m3 [24m
 [38;5;250m 6 [39m runif    20            1 mean        max   0.952 
 [38;5;250m 7 [39m runif    20            1 sd          min   0.042 [4m5 [24m
 [38;5;250m 8 [39m runif    20            1 sd          max   0.046 [4m8 [24m
 [38;5;250m 9 [39m runif    30            1 mean        min   0.032 [4m5 [24m
 [38;5;250m10 [39m runif    30            1 mean        max   0.966 
 [38;5;250m11 [39m runif    30            1 sd          min   0.032 [4m3 [24m
 [38;5;250m12 [39m runif    30            1 sd          max   0.031 [4m1 [24m
Number of data generating functions: 3
Number of analyzing procedures: 2
Number of replications: 1000
Estimated replications per hour: 44892342
Start of the simulation: 2025-04-05 13:33:18.142846
End of the simulation: 2025-04-05 13:33:18.223038</code></pre>
<p>Note, by specifying the parameter <em>summary_fun</em> the generated
data sets and all individual result objects are discarded. In this
example we discard
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">3 \times 1000</annotation></semantics></math>
data sets and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>1000</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">3 \times 1000 \times 2</annotation></semantics></math>
individual result objects.</p>
</div>
<div class="section level3">
<h3 id="parameter-post_analyze">Parameter <em>post_analyze</em><a class="anchor" aria-label="anchor" href="#parameter-post_analyze"></a>
</h3>
<p>Sometimes the analyzing functions return quite complicated objects
like in the Section <em>A first example</em>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"regData"</span>, n <span class="op">=</span> <span class="fl">5L</span>, SD <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"lm"</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y~x"</span>, <span class="st">"y~I(x^2)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 8 × 7 [39m
  fun         n    SD replications proc  formula  results
   [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;list&gt; [39m [23m 
 [38;5;250m1 [39m regData     5     1            1 lm    y~x       [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m2 [39m regData     5     1            1 lm    y~I(x^2)  [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m3 [39m regData     5     1            2 lm    y~x       [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m4 [39m regData     5     1            2 lm    y~I(x^2)  [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m5 [39m regData     5     2            1 lm    y~x       [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m6 [39m regData     5     2            1 lm    y~I(x^2)  [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m7 [39m regData     5     2            2 lm    y~x       [38;5;246m&lt;lm&gt; [39m   
 [38;5;250m8 [39m regData     5     2            2 lm    y~I(x^2)  [38;5;246m&lt;lm&gt; [39m   
Number of data generating functions: 2
Number of analyzing procedures: 2
Number of replications: 2
Estimated replications per hour: 1062820
Start of the simulation: 2025-04-05 13:33:18.317779
End of the simulation: 2025-04-05 13:33:18.324554</code></pre>
<p>The parameter <em>post_analyze</em> (if specified) is applied
directly after the result was generated (see command line 10). Note,
<em>purrr::compose</em> can be very handy if your
post-analyzing-function can be defined by a few single functions:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"regData"</span>, n <span class="op">=</span> <span class="fl">5L</span>, SD <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"lm"</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y~x"</span>, <span class="st">"y~I(x^2)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  post_analyze <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/compose.html" class="external-link">compose</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">mat</span><span class="op">)</span> <span class="va">mat</span><span class="op">[</span><span class="st">"(Intercept)"</span>, <span class="st">"Estimate"</span><span class="op">]</span>, <span class="va">coef</span>, <span class="va">summary.lm</span><span class="op">)</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 8 × 7 [39m
  fun         n    SD replications proc  formula  results
   [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m       [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m regData     5     1            1 lm    y~x        10.3 
 [38;5;250m2 [39m regData     5     1            1 lm    y~I(x^2)   10.2 
 [38;5;250m3 [39m regData     5     1            2 lm    y~x         9.43
 [38;5;250m4 [39m regData     5     1            2 lm    y~I(x^2)    9.95
 [38;5;250m5 [39m regData     5     2            1 lm    y~x        13.5 
 [38;5;250m6 [39m regData     5     2            1 lm    y~I(x^2)   13.3 
 [38;5;250m7 [39m regData     5     2            2 lm    y~x         9.27
 [38;5;250m8 [39m regData     5     2            2 lm    y~I(x^2)    9.25
Number of data generating functions: 2
Number of analyzing procedures: 2
Number of replications: 2
Estimated replications per hour: 545630
Start of the simulation: 2025-04-05 13:33:18.452665
End of the simulation: 2025-04-05 13:33:18.46586</code></pre>
</div>
<div class="section level3">
<h3 id="parameter-group_for_summary">Parameter <em>group_for_summary</em><a class="anchor" aria-label="anchor" href="#parameter-group_for_summary"></a>
</h3>
<p>When the result object is a <em>data.frame</em> itself, for
instance</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">presever_rownames</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">mat</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">rn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span></span>
<span>  <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span></span>
<span>  <span class="va">ret</span><span class="op">$</span><span class="va">term</span> <span class="op">&lt;-</span> <span class="va">rn</span></span>
<span>  <span class="va">ret</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"regData"</span>, n <span class="op">=</span> <span class="fl">5L</span>, SD <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"lm"</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y~x"</span>, <span class="st">"y~I(x^2)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  post_analyze <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/compose.html" class="external-link">compose</a></span><span class="op">(</span><span class="va">presever_rownames</span>, <span class="va">coef</span>, <span class="va">summary</span><span class="op">)</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 24 × 11 [39m
   fun         n    SD replications proc  formula  Estimate `Std. Error` `t value` `Pr(&gt;|t|)` term  
    [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;dbl&gt; [39m [23m      [3m [38;5;246m&lt;dbl&gt; [39m [23m       [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m 
 [38;5;250m 1 [39m regData     5     1            1 lm    y~x          9.91        0.670    14.8     0.000 [4m6 [24m [4m7 [24m [4m1 [24m (Inte…
 [38;5;250m 2 [39m regData     5     1            1 lm    y~x          2.80        1.09      2.56    0.083 [4m1 [24m   x     
 [38;5;250m 3 [39m regData     5     1            1 lm    y~I(x^2)    10.3         0.577    17.9     0.000 [4m3 [24m [4m8 [24m [4m1 [24m (Inte…
 [38;5;250m 4 [39m regData     5     1            1 lm    y~I(x^2)     2.63        1.10      2.40    0.096 [4m1 [24m   I(x^2)
 [38;5;250m 5 [39m regData     5     1            2 lm    y~x          9.32        0.537    17.3     0.000 [4m4 [24m [4m1 [24m [4m9 [24m (Inte…
 [38;5;250m 6 [39m regData     5     1            2 lm    y~x          2.11        0.878     2.40    0.096 [4m0 [24m   x     
 [38;5;250m 7 [39m regData     5     1            2 lm    y~I(x^2)     9.78        0.590    16.6     0.000 [4m4 [24m [4m7 [24m [4m8 [24m (Inte…
 [38;5;250m 8 [39m regData     5     1            2 lm    y~I(x^2)     1.56        1.12      1.39    0.259    I(x^2)
 [38;5;250m 9 [39m regData     5     1            3 lm    y~x          9.64        1.16      8.28    0.003 [4m6 [24m [4m9 [24m  (Inte…
 [38;5;250m10 [39m regData     5     1            3 lm    y~x          1.83        1.90      0.965   0.406    x     
 [38;5;246m# ℹ 14 more rows [39m
Number of data generating functions: 2
Number of analyzing procedures: 2
Number of replications: 3
Estimated replications per hour: 641721
Start of the simulation: 2025-04-05 13:33:18.559466
End of the simulation: 2025-04-05 13:33:18.576296</code></pre>
<p>In order to summarize the replications it is necessary to additional
group the calculations with respect to another variable. This variable
can be passed to <em>group_for_summary</em></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"regData"</span>, n <span class="op">=</span> <span class="fl">5L</span>, SD <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"lm"</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y~x"</span>, <span class="st">"y~I(x^2)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  post_analyze <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/compose.html" class="external-link">compose</a></span><span class="op">(</span><span class="va">presever_rownames</span>, <span class="va">coef</span>, <span class="va">summary</span><span class="op">)</span>,</span>
<span>  summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span>, sd <span class="op">=</span> <span class="va">sd</span><span class="op">)</span>,</span>
<span>  group_for_summary <span class="op">=</span> <span class="st">"term"</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 16 × 12 [39m
   fun         n    SD replications summary_fun proc  formula  term  Estimate `Std. Error` `t value`
    [3m [38;5;246m&lt;chr&gt; [39m [23m    [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;dbl&gt; [39m [23m      [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m 1 [39m regData     5     1            1 mean        lm    y~x      (Int…    9.95         0.500     53.5 
 [38;5;250m 2 [39m regData     5     1            1 mean        lm    y~x      x        2.04         0.817      6.86
 [38;5;250m 3 [39m regData     5     1            1 mean        lm    y~I(x^2) (Int…   10.3          0.444     28.5 
 [38;5;250m 4 [39m regData     5     1            1 mean        lm    y~I(x^2) I(x^…    1.93         0.845      2.80
 [38;5;250m 5 [39m regData     5     1            1 sd          lm    y~x      (Int…    0.505        0.404     66.9 
 [38;5;250m 6 [39m regData     5     1            1 sd          lm    y~x      x        0.382        0.660      8.87
 [38;5;250m 7 [39m regData     5     1            1 sd          lm    y~I(x^2) (Int…    0.608        0.202     17.8 
 [38;5;250m 8 [39m regData     5     1            1 sd          lm    y~I(x^2) I(x^…    0.759        0.385      1.87
 [38;5;250m 9 [39m regData     5     2            1 mean        lm    y~x      (Int…    9.38         0.787     13.6 
 [38;5;250m10 [39m regData     5     2            1 mean        lm    y~x      x        3.28         1.28       2.80
 [38;5;250m11 [39m regData     5     2            1 mean        lm    y~I(x^2) (Int…    9.99         0.823     14.1 
 [38;5;250m12 [39m regData     5     2            1 mean        lm    y~I(x^2) I(x^…    2.74         1.57       1.79
 [38;5;250m13 [39m regData     5     2            1 sd          lm    y~x      (Int…    1.06         0.271      7.18
 [38;5;250m14 [39m regData     5     2            1 sd          lm    y~x      x        3.14         0.443      2.41
 [38;5;250m15 [39m regData     5     2            1 sd          lm    y~I(x^2) (Int…    0.862        0.365      6.91
 [38;5;250m16 [39m regData     5     2            1 sd          lm    y~I(x^2) I(x^…    2.74         0.694      1.73
 [38;5;246m# ℹ 1 more variable: `Pr(&gt;|t|)` &lt;dbl&gt; [39m
Number of data generating functions: 2
Number of analyzing procedures: 2
Number of replications: 3
Estimated replications per hour: 211410
Start of the simulation: 2025-04-05 13:33:18.681837
End of the simulation: 2025-04-05 13:33:18.732923</code></pre>
</div>
<div class="section level3">
<h3 id="parameter-ncpus-and-cluster_seed">Parameter <em>ncpus</em> and <em>cluster_seed</em><a class="anchor" aria-label="anchor" href="#parameter-ncpus-and-cluster_seed"></a>
</h3>
<p>By specifying <em>ncpus</em> larger than 1 a cluster objected is
created for the user and passed to the parameter <em>cluster</em>
discussed in the next section.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  ncpus <span class="op">=</span> <span class="fl">2</span>, summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 6 × 6 [39m
  fun       n replications summary_fun proc   value
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m runif    10            1 mean        min   0.088 [4m4 [24m
 [38;5;250m2 [39m runif    10            1 mean        max   0.912 
 [38;5;250m3 [39m runif    20            1 mean        min   0.065 [4m6 [24m
 [38;5;250m4 [39m runif    20            1 mean        max   0.947 
 [38;5;250m5 [39m runif    30            1 mean        min   0.036 [4m2 [24m
 [38;5;250m6 [39m runif    30            1 mean        max   0.969 
Number of data generating functions: 3
Number of analyzing procedures: 2
Number of replications: 10
Estimated replications per hour: 95799
Start of the simulation: 2025-04-05 13:33:19.076426
End of the simulation: 2025-04-05 13:33:19.452209</code></pre>
<p>As it is stated in command line 7, the replications are parallelized.
In our case, this means that roughly every CPU conducts 5
replications.</p>
<p>The parameter <em>cluster_seed</em> must be an integer vector of
length 6 and serves the same purpose as the function <em>set.seed</em>.
By default, <em>cluster_seed</em> equals <em>rep(12345, 6)</em>. Note,
in order to reproduce the simulation study it is also necessary that
<em>ncpus</em> does not change.</p>
</div>
<div class="section level3">
<h3 id="parameter-cluster">Parameter <em>cluster</em><a class="anchor" aria-label="anchor" href="#parameter-cluster"></a>
</h3>
<p>The user can create a cluster on its own. This also enables the user
to distribute the replications over different computers in a
network.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">parallel</span><span class="op">)</span></span>
<span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"localhost"</span>, <span class="fl">2</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"PSOCK"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span></span>
<span>  data_grid <span class="op">=</span> <span class="va">dg</span>, proc_grid <span class="op">=</span> <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cluster <span class="op">=</span> <span class="va">cl</span>, summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 6 × 6 [39m
  fun       n replications summary_fun proc   value
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m runif    10            1 mean        min   0.088 [4m4 [24m
 [38;5;250m2 [39m runif    10            1 mean        max   0.912 
 [38;5;250m3 [39m runif    20            1 mean        min   0.065 [4m6 [24m
 [38;5;250m4 [39m runif    20            1 mean        max   0.947 
 [38;5;250m5 [39m runif    30            1 mean        min   0.036 [4m2 [24m
 [38;5;250m6 [39m runif    30            1 mean        max   0.969 
Number of data generating functions: 3
Number of analyzing procedures: 2
Number of replications: 10
Estimated replications per hour: 97263
Start of the simulation: 2025-04-05 13:33:19.787899
End of the simulation: 2025-04-05 13:33:20.158029</code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">stopCluster</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span></code></pre></div>
<p>As you can see our cluster consists of 3 workers. Hence, this
reproduces the results from the last code chunk above. Further note, if
the user starts the cluster, the user also has to stop the cluster. A
cluster that is created within <em>eval_tibbles</em> by specifying
<em>ncpus</em> is also stop within <em>eval_tibbles</em>.</p>
</div>
<div class="section level3">
<h3 id="parameter-cluster_libraries-and-cluster_global_objects">Parameter <em>cluster_libraries</em> and
<em>cluster_global_objects</em><a class="anchor" aria-label="anchor" href="#parameter-cluster_libraries-and-cluster_global_objects"></a>
</h3>
<p>A newly created cluster is ``empty’’. Hence, if the simulation study
requires libraries or objects from the global environment, they must be
transferred to the cluster.</p>
<p>Lets look at standard example from the <em>boot</em> package.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">boot</span><span class="op">)</span></span>
<span><span class="va">ratio</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">d</span>, <span class="va">w</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">x</span> <span class="op">*</span> <span class="va">w</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">u</span> <span class="op">*</span> <span class="va">w</span><span class="op">)</span></span>
<span><span class="va">city.boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot</a></span><span class="op">(</span><span class="va">city</span>, <span class="va">ratio</span>,</span>
<span>  R <span class="op">=</span> <span class="fl">999</span>, stype <span class="op">=</span> <span class="st">"w"</span>,</span>
<span>  sim <span class="op">=</span> <span class="st">"ordinary"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></span><span class="op">(</span><span class="va">city.boot</span>,</span>
<span>  conf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"norm"</span>, <span class="st">"basic"</span>, <span class="st">"perc"</span>, <span class="st">"bca"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
Based on 999 bootstrap replicates

CALL : 
boot.ci(boot.out = city.boot, conf = c(0.9, 0.95), type = c("norm", 
    "basic", "perc", "bca"))

Intervals : 
Level      Normal              Basic         
90%   ( 1.098,  1.861 )   ( 1.047,  1.772 )   
95%   ( 1.026,  1.934 )   ( 0.860,  1.799 )  

Level     Percentile            BCa          
90%   ( 1.268,  1.994 )   ( 1.271,  2.002 )   
95%   ( 1.241,  2.180 )   ( 1.242,  2.195 )  
Calculations and Intervals on Original Scale</code></pre>
<p>The following data generating function is extremely boring because it
always returns the data set <em>city</em> from the library
<em>boot</em>.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">returnCity</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">city</span></span>
<span><span class="op">}</span></span>
<span><span class="va">bootConfInt</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">city.boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">ratio</span>,</span>
<span>    R <span class="op">=</span> <span class="fl">999</span>, stype <span class="op">=</span> <span class="st">"w"</span>,</span>
<span>    sim <span class="op">=</span> <span class="st">"ordinary"</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></span><span class="op">(</span><span class="va">city.boot</span>,</span>
<span>    conf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.90</span>, <span class="fl">0.95</span><span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"norm"</span>, <span class="st">"basic"</span>, <span class="st">"perc"</span>, <span class="st">"bca"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The function <em>ratio</em> exists at the moment only in our global
environment. Further we had to load the <em>boot</em> package. Hence, we
load the <em>boot</em> package by setting <em>cluster_libraries =
c(“boot”)</em> and transfer the function <em>ratio</em> by setting
<em>cluster_global_objects = c(“ratio”)</em>.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"returnCity"</span><span class="op">)</span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"bootConfInt"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">10</span>, ncpus <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  cluster_libraries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"boot"</span><span class="op">)</span>,</span>
<span>  cluster_global_objects <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ratio"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 10 × 4 [39m
   fun        replications proc        results 
    [3m [38;5;246m&lt;chr&gt; [39m [23m              [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;list&gt; [39m [23m  
 [38;5;250m 1 [39m returnCity            1 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 2 [39m returnCity            2 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 3 [39m returnCity            3 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 4 [39m returnCity            4 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 5 [39m returnCity            5 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 6 [39m returnCity            6 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 7 [39m returnCity            7 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 8 [39m returnCity            8 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m 9 [39m returnCity            9 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
 [38;5;250m10 [39m returnCity           10 bootConfInt  [38;5;246m&lt;bootci&gt; [39m
Number of data generating functions: 1
Number of analyzing procedures: 1
Number of replications: 10
Estimated replications per hour: 211116
Start of the simulation: 2025-04-05 13:33:20.957689
End of the simulation: 2025-04-05 13:33:21.128211</code></pre>
<p>Of course, it is possible to set
<em>cluster_global_objects=ls()</em>, but then all objects from the
global environment are transferred to all workers.</p>
</div>
<div class="section level3">
<h3 id="parameter-envir">Parameter <em>envir</em><a class="anchor" aria-label="anchor" href="#parameter-envir"></a>
</h3>
<p>The function <em>eval_tibbles</em> generates in a first step function
calls from <em>data_grid</em> and <em>proc_grid</em>. This is achieved
by applying the <em>R</em>-function <em>get</em>. By default,
<em>envir=globalenv()</em> and thus <em>get</em> searches the global
environment of the current R session. An example shows how to use the
parameter <em>envir</em>.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># masking summary from the base package</span></span>
<span><span class="va">summary</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">tibble</span><span class="op">(</span>sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">tibble</span><span class="op">(</span>q0.1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">someFunc</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">summary</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">tibble</span><span class="op">(</span>sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"runif"</span>, n <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"g"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># the standard is to use the global</span></span>
<span>  <span class="co"># environment, hence summary defined outside</span></span>
<span>  <span class="co"># of someFunc() will be used</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"--------------------------------------------------\n"</span><span class="op">)</span></span>
<span>  <span class="co"># will use the local defined summary, but g</span></span>
<span>  <span class="co"># from the global environment, because</span></span>
<span>  <span class="co"># g is not locally defined.</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">someFunc</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 2 × 6 [39m
  fun       n replications proc        sd   q0.1
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m runif   100            1 summary  0.260  [31mNA [39m    
 [38;5;250m2 [39m runif   100            1 g        [31mNA [39m      0.123
Number of data generating functions: 1
Number of analyzing procedures: 2
Number of replications: 1
Estimated replications per hour: 2476544
Start of the simulation: 2025-04-05 13:33:21.271641
End of the simulation: 2025-04-05 13:33:21.273094
--------------------------------------------------
 [38;5;246m# A tibble: 2 × 7 [39m
  fun       n replications proc        sd   mean   q0.1
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m runif   100            1 summary  0.282  0.512  [31mNA [39m    
 [38;5;250m2 [39m runif   100            1 g        [31mNA [39m      [31mNA [39m      0.147
Number of data generating functions: 1
Number of analyzing procedures: 2
Number of replications: 1
Estimated replications per hour: 3211974
Start of the simulation: 2025-04-05 13:33:21.300407
End of the simulation: 2025-04-05 13:33:21.301528</code></pre>
</div>
<div class="section level3">
<h3 id="truth-functionality">.truth-functionality<a class="anchor" aria-label="anchor" href="#truth-functionality"></a>
</h3>
<p>Sometimes it is handy to access the parameter constellation that was
used during the data generation in the (post) data analyzing phase. Of
course, one could write wrapper functions for every data generating
function and append the parameter constellation from the data generation
as attributes to the data set, but the purpose of this package is to
reduce such administrative source code. Hence if the (post) data
analyzing function has an argument <em>.truth</em>, then
<em>eval_tibbles</em> will manage that hand-over. A brief example should
explain this. Suppose we want to estimate the bias of the empirical
quantile estimator if the data is normal distributed.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rnorm"</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1000</span><span class="op">)</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">100L</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"quantile"</span>, probs <span class="op">=</span> <span class="fl">0.975</span><span class="op">)</span></span>
<span><span class="va">post_ana</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">q_est</span>, <span class="va">.truth</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>bias <span class="op">=</span> <span class="va">q_est</span> <span class="op">-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">0.975</span>, mean <span class="op">=</span> <span class="va">.truth</span><span class="op">$</span><span class="va">mean</span>, sd <span class="op">=</span> <span class="va">.truth</span><span class="op">$</span><span class="va">sd</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">3</span>, discard_generated_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   ncpus <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                   post_analyze <span class="op">=</span> <span class="va">post_ana</span>,</span>
<span>                   summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 8 × 9 [39m
  fun    mean    sd     n replications summary_fun proc     probs    bias
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m    [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm     1     1    10            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m573 [39m 
 [38;5;250m2 [39m rnorm   [4m1 [24m000     1    10            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m550 [39m 
 [38;5;250m3 [39m rnorm     1    10    10            1 mean        quantile 0.975 - [31m5 [39m [31m. [39m [31m58 [39m  
 [38;5;250m4 [39m rnorm   [4m1 [24m000    10    10            1 mean        quantile 0.975 - [31m5 [39m [31m. [39m [31m34 [39m  
 [38;5;250m5 [39m rnorm     1     1   100            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m0 [39m [31m76 [4m0 [24m [39m
 [38;5;250m6 [39m rnorm   [4m1 [24m000     1   100            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m0 [39m [31m87 [4m9 [24m [39m
 [38;5;250m7 [39m rnorm     1    10   100            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m685 [39m 
 [38;5;250m8 [39m rnorm   [4m1 [24m000    10   100            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m695 [39m 
Number of data generating functions: 8
Number of analyzing procedures: 1
Number of replications: 1000
Estimated replications per hour: 1269290
Start of the simulation: 2025-04-05 13:33:21.650874
End of the simulation: 2025-04-05 13:33:24.487104</code></pre>
<p>If we want to do the analysis for different distrubtions we could
modify our post data analyzing function, but we can also simply add a
<em>.truth</em>-column to the data generating grid. In this case, the
information from the <em>.truth</em>-column is directly passed to the
<em>.truth</em>-parameter:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rnorm"</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">100L</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">0.975</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rexp"</span><span class="op">)</span>, rate <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">100L</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html" class="external-link">qexp</a></span><span class="op">(</span><span class="fl">0.975</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"runif"</span><span class="op">)</span>, max <span class="op">=</span> <span class="fl">2</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">100L</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">qunif</a></span><span class="op">(</span><span class="fl">0.975</span>, max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"quantile"</span>, probs <span class="op">=</span> <span class="fl">0.975</span><span class="op">)</span></span>
<span><span class="va">post_ana</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">q_est</span>, <span class="va">.truth</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">ret</span> <span class="op">&lt;-</span> <span class="va">q_est</span> <span class="op">-</span> <span class="va">.truth</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">ret</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"bias"</span></span>
<span>  <span class="va">ret</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">3</span>, discard_generated_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   ncpus <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                   post_analyze <span class="op">=</span> <span class="va">post_ana</span>,</span>
<span>                   summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 6 × 11 [39m
  fun    mean     n .truth  rate   max replications summary_fun proc     probs    bias
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m    [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm     0    10   1.96     [31mNA [39m     [31mNA [39m            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m573 [39m 
 [38;5;250m2 [39m rnorm     0   100   1.96     [31mNA [39m     [31mNA [39m            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m0 [39m [31m81 [4m8 [24m [39m
 [38;5;250m3 [39m rexp      [31mNA [39m    10   3.69     1     [31mNA [39m            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m917 [39m 
 [38;5;250m4 [39m rexp      [31mNA [39m   100   3.69     1     [31mNA [39m            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m175 [39m 
 [38;5;250m5 [39m runif     [31mNA [39m    10   1.95     [31mNA [39m     2            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m174 [39m 
 [38;5;250m6 [39m runif     [31mNA [39m   100   1.95     [31mNA [39m     2            1 mean        quantile 0.975 - [31m0 [39m [31m. [39m [31m0 [39m [31m18 [4m3 [24m [39m
Number of data generating functions: 6
Number of analyzing procedures: 1
Number of replications: 1000
Estimated replications per hour: 3310681
Start of the simulation: 2025-04-05 13:33:24.824956
End of the simulation: 2025-04-05 13:33:25.912345</code></pre>
<p>In the same fashion one could write a data analyzing function with a
parameter <em>.truth</em>. To go even a step further, we store the
analytic quantile function in the <em>.truth</em> column:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rnorm"</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">1000L</span><span class="op">)</span>, </span>
<span>                .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">prob</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="va">prob</span>, mean <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rexp"</span><span class="op">)</span>, rate <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">1000L</span><span class="op">)</span>,</span>
<span>                .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">prob</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html" class="external-link">qexp</a></span><span class="op">(</span><span class="va">prob</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"runif"</span><span class="op">)</span>, max <span class="op">=</span> <span class="fl">2</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">1000L</span><span class="op">)</span>,</span>
<span>                .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">prob</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">qunif</a></span><span class="op">(</span><span class="va">prob</span>, max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">bias_quantile</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">prob</span>, <span class="va">.truth</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">x</span>, probs <span class="op">=</span> <span class="va">prob</span><span class="op">)</span></span>
<span>  <span class="va">ret</span> <span class="op">&lt;-</span> <span class="va">est</span> <span class="op">-</span> <span class="va">.truth</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">(</span><span class="va">prob</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">ret</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"bias"</span></span>
<span>  <span class="va">ret</span></span>
<span><span class="op">}</span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="st">"bias_quantile"</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9</span>, <span class="fl">0.975</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">3</span>, discard_generated_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   ncpus <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                   summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 12 × 11 [39m
   fun    mean     n .truth  rate   max replications summary_fun proc           prob      bias
    [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;list&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m          [3m [38;5;246m&lt;dbl&gt; [39m [23m      [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m 1 [39m rnorm     0    10  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     [31mNA [39m            1 mean        bias_quantile 0.9   - [31m0 [39m [31m. [39m [31m218 [39m   
 [38;5;250m 2 [39m rnorm     0    10  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     [31mNA [39m            1 mean        bias_quantile 0.975 - [31m0 [39m [31m. [39m [31m530 [39m   
 [38;5;250m 3 [39m rnorm     0   [4m1 [24m000  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     [31mNA [39m            1 mean        bias_quantile 0.9   - [31m0 [39m [31m. [39m [31m00 [39m [31m6 [4m2 [24m [4m6 [24m [39m 
 [38;5;250m 4 [39m rnorm     0   [4m1 [24m000  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     [31mNA [39m            1 mean        bias_quantile 0.975 - [31m0 [39m [31m. [39m [31m0 [39m [31m10 [4m6 [24m [39m  
 [38;5;250m 5 [39m rexp      [31mNA [39m    10  [38;5;246m&lt;fn&gt; [39m       1     [31mNA [39m            1 mean        bias_quantile 0.9   - [31m0 [39m [31m. [39m [31m275 [39m   
 [38;5;250m 6 [39m rexp      [31mNA [39m    10  [38;5;246m&lt;fn&gt; [39m       1     [31mNA [39m            1 mean        bias_quantile 0.975 - [31m0 [39m [31m. [39m [31m983 [39m   
 [38;5;250m 7 [39m rexp      [31mNA [39m   [4m1 [24m000  [38;5;246m&lt;fn&gt; [39m       1     [31mNA [39m            1 mean        bias_quantile 0.9   - [31m0 [39m [31m. [39m [31m00 [39m [31m2 [4m2 [24m [4m6 [24m [39m 
 [38;5;250m 8 [39m rexp      [31mNA [39m   [4m1 [24m000  [38;5;246m&lt;fn&gt; [39m       1     [31mNA [39m            1 mean        bias_quantile 0.975 - [31m0 [39m [31m. [39m [31m0 [39m [31m21 [4m7 [24m [39m  
 [38;5;250m 9 [39m runif     [31mNA [39m    10  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     2            1 mean        bias_quantile 0.9   - [31m0 [39m [31m. [39m [31m150 [39m   
 [38;5;250m10 [39m runif     [31mNA [39m    10  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     2            1 mean        bias_quantile 0.975 - [31m0 [39m [31m. [39m [31m173 [39m   
 [38;5;250m11 [39m runif     [31mNA [39m   [4m1 [24m000  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     2            1 mean        bias_quantile 0.9   - [31m0 [39m [31m. [39m [31m000 [39m [31m [4m5 [24m [4m2 [24m [4m4 [24m [39m
 [38;5;250m12 [39m runif     [31mNA [39m   [4m1 [24m000  [38;5;246m&lt;fn&gt; [39m       [31mNA [39m     2            1 mean        bias_quantile 0.975 - [31m0 [39m [31m. [39m [31m00 [39m [31m2 [4m0 [24m [4m1 [24m [39m 
Number of data generating functions: 6
Number of analyzing procedures: 2
Number of replications: 1000
Estimated replications per hour: 2109163
Start of the simulation: 2025-04-05 13:33:26.026188
End of the simulation: 2025-04-05 13:33:27.733026</code></pre>
<p>But one should keep in mind that if one calculates the quantile
during the (post) analyzing phase that this is happens on replication
level. To be more precise lets look at an excerpt of the pseudo code
from the beginning of the vignette:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="fl">6.</span>  <span class="cf">for</span> g <span class="cf">in</span>  {g_1, ..., g_k} </span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="fl">7.</span>      <span class="cf">for</span> r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">replications</span> (optionally <span class="cf">in</span> a parallel manner) </span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="fl">8.</span>          data <span class="ot">=</span> <span class="fu">g</span>() </span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="fl">9.</span>          <span class="cf">for</span> f <span class="cf">in</span>  {f_1, \ldots, f_L} </span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="fl">10.</span>             append <span class="fu">f</span>(data) to the result <span class="fu">object</span> (optionally apply a post<span class="sc">-</span>analyze<span class="sc">-</span><span class="cf">function</span>)</span></code></pre></div>
<p>No matter if one extend the data analyzing function <em>f_1, …
f_L</em> or the post-analyze-function with an argument <em>.truth</em>
the calculation are made for every single replication during step 10.
Hence, the operations are not vectorized!</p>
</div>
</div>
<div class="section level2">
<h2 id="some-examples">Some Examples<a class="anchor" aria-label="anchor" href="#some-examples"></a>
</h2>
<p>Note, the following code examples will use more computational
resources. In order to prevent that these are checked/executed on the
CRAN check farm, they are only evaluated if the environment variable
<em>NOT_CRAN</em> is set to “true”</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EVAL</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"NOT_CRAN"</span><span class="op">)</span> <span class="op">==</span> <span class="st">"true"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">EVAL</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="section level3">
<h3 id="sampling-distribution-of-mean-and-median-for-normal-and-exponential-distributed-data">Sampling distribution of mean and median for normal and exponential
distributed data<a class="anchor" aria-label="anchor" href="#sampling-distribution-of-mean-and-median-for-normal-and-exponential-distributed-data"></a>
</h3>
<p>First we define how the data is generated, where the sample size
should be 10 and 100:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rnorm"</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">100L</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rexp"</span><span class="op">)</span>, rate <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10L</span>, <span class="fl">100L</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dg</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 4 × 4 [39m
  fun    mean     n  rate
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm     1    10     [31mNA [39m
 [38;5;250m2 [39m rnorm     1   100     [31mNA [39m
 [38;5;250m3 [39m rexp      [31mNA [39m    10     1
 [38;5;250m4 [39m rexp      [31mNA [39m   100     1</code></pre>
<p>Afterwards we define how we want to analyze the data:</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>proc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"median"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pg</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 2 × 1 [39m
  proc  
   [3m [38;5;246m&lt;chr&gt; [39m [23m 
 [38;5;250m1 [39m mean  
 [38;5;250m2 [39m median</code></pre>
<p>Finally, we conduct the simulation and visualize the results</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>, replications <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">4</span>, ncpus <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">et</span><span class="op">$</span><span class="va">simulation</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">results</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interaction.html" class="external-link">interaction</a></span><span class="op">(</span><span class="va">fun</span>, <span class="va">n</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interaction.html" class="external-link">interaction</a></span><span class="op">(</span><span class="va">fun</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span> <span class="va">proc</span><span class="op">)</span></span></code></pre></div>
<p><img src="simTool_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="comparing-bootstrap-confidence-intervals-with-classical-studentized-interval">Comparing bootstrap confidence intervals with classical studentized
interval<a class="anchor" aria-label="anchor" href="#comparing-bootstrap-confidence-intervals-with-classical-studentized-interval"></a>
</h3>
<p>We want to compare the confidence intervals that are generated by
<em>boot::boot.ci()</em> and <em>stats::t.test()</em>. Unfortunately,
<em>boot::boot.ci()</em> cannot be applied directly to the generated
data sets. Therefore, we write a new function:</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bootstrap_ci</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">conf.level</span>, <span class="va">R</span> <span class="op">=</span> <span class="fl">999</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">boot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot</a></span><span class="op">(</span><span class="va">x</span>, <span class="kw">function</span><span class="op">(</span><span class="va">d</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      variance <span class="op">=</span> <span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="va">n</span><span class="op">^</span><span class="fl">2</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span>, R <span class="op">=</span> <span class="va">R</span><span class="op">)</span></span>
<span>  <span class="fu">boot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></span><span class="op">(</span><span class="va">b</span>, conf <span class="op">=</span> <span class="va">conf.level</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Furthermore, <em>boot::boot.ci()</em> returns in general more than
one confidence interval and the structures returned by
<em>boot::boot.ci()</em> and <em>stats::t.test()</em> are also very
different. One solution could be to write a function <em>t_test()</em>
that calls <em>stats::t.test()</em>, modifies the returned object and
additionally modify the function <em>bootstrap_ci</em> so that both
function return objects with a unified structure. But instead of that we
will implement a function that is later on passed to the argument
<em>post_analyze</em> of <em>eval_tibbles</em>:</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">post_analyze</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">o</span>, <span class="va">.truth</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">o</span><span class="op">)</span> <span class="op">==</span> <span class="st">"htest"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co">#post-process the object returned by t.test</span></span>
<span>    <span class="va">ci</span> <span class="op">&lt;-</span> <span class="va">o</span><span class="op">$</span><span class="va">conf.int</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>      type <span class="op">=</span> <span class="st">"t.test"</span>,</span>
<span>      aspect <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"covered"</span>, <span class="st">"ci_length"</span><span class="op">)</span>,</span>
<span>      value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ci</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="va">.truth</span> <span class="op">&amp;&amp;</span> <span class="va">.truth</span> <span class="op">&lt;=</span> <span class="va">ci</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="va">ci</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">ci</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">o</span><span class="op">)</span> <span class="op">==</span> <span class="st">"bootci"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co">#post-process the object returned by boot.ci</span></span>
<span>    <span class="va">method</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"normal"</span>, <span class="st">"basic"</span>, <span class="st">"student"</span>, <span class="st">"percent"</span>, <span class="st">"bca"</span><span class="op">)</span></span>
<span>    <span class="va">ret</span> <span class="op">=</span> <span class="va">o</span><span class="op">[</span><span class="va">method</span><span class="op">]</span></span>
<span>    <span class="va">lower</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">ret</span>, <span class="op">~</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">nth</a></span><span class="op">(</span><span class="va">.x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">upper</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">ret</span>, <span class="op">~</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">nth</a></span><span class="op">(</span><span class="va">.x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">type</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"boot"</span>, <span class="va">method</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>      <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>        type <span class="op">=</span> <span class="va">type</span>, </span>
<span>        aspect <span class="op">=</span> <span class="st">"covered"</span>, </span>
<span>        value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">lower</span> <span class="op">&lt;=</span> <span class="va">.truth</span> <span class="op">&amp;</span> <span class="va">.truth</span> <span class="op">&lt;=</span> <span class="va">upper</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>        type <span class="op">=</span> <span class="va">type</span>, </span>
<span>        aspect <span class="op">=</span> <span class="st">"ci_length"</span>, </span>
<span>        value <span class="op">=</span> <span class="va">upper</span> <span class="op">-</span> <span class="va">lower</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>As you can see, the objects returned are tibbles with more than one
row. Summarizing the data over all replications will in general use the
variable <em>type</em> and <em>aspect</em> as grouping variables. This
can be achieved by using the parameter <em>group_for_summary</em> of
<em>eval_tibbles</em>.</p>
<div class="section level4">
<h4 id="define-and-run-the-simulation">Define and run the simulation<a class="anchor" aria-label="anchor" href="#define-and-run-the-simulation"></a>
</h4>
<p>We want to generate normal-, uniform-, and exponential distributed
data:</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rnorm"</span>, n <span class="op">=</span> <span class="fl">10L</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"runif"</span>, n <span class="op">=</span> <span class="fl">10L</span>, max <span class="op">=</span> <span class="fl">6</span>, .truth <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rexp"</span>, n <span class="op">=</span> <span class="fl">10L</span>, rate <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dg</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 3 × 7 [39m
  fun       n  mean    sd .truth   max   rate
   [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m rnorm    10     0  1.73   0        [31mNA [39m  [31mNA [39m    
 [38;5;250m2 [39m runif    10     [31mNA [39m  [31mNA [39m      3        6  [31mNA [39m    
 [38;5;250m3 [39m rexp     10     [31mNA [39m  [31mNA [39m      1.73     [31mNA [39m  0.577</code></pre>
<p>and apply our functions that calculate the confidence intervals to it
using two different confidence levels.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span></span>
<span>  proc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"t.test"</span>,<span class="st">"bootstrap_ci"</span><span class="op">)</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">pg</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 4 × 2 [39m
  proc         conf.level
   [3m [38;5;246m&lt;chr&gt; [39m [23m              [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m1 [39m t.test             0.9 
 [38;5;250m2 [39m bootstrap_ci       0.9 
 [38;5;250m3 [39m t.test             0.95
 [38;5;250m4 [39m bootstrap_ci       0.95</code></pre>
<p>Note, that the structure of the objects returned are quite different
which addressed by our function <em>post_analyze</em>. The variables
<em>type</em> and <em>aspect</em> that are created by
<em>post_analyze</em> are to distinguish the different confidence
intervals. Since these variables are part of the result objects,
<em>eval_tibbles</em> assumes that these variables are results. In order
to summarize the results (calculating the mean) over all replications
correctly we need to tell eval_tibbles that additional group variables
are <em>type</em> and <em>aspect</em>:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">3</span>, ncpus <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  cluster_global_objects <span class="op">=</span> <span class="st">"post_analyze"</span>,</span>
<span>  post_analyze <span class="op">=</span> <span class="va">post_analyze</span>,</span>
<span>  summary_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>,</span>
<span>  group_for_summary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aspect"</span>, <span class="st">"type"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">et</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 72 × 14 [39m
   fun       n  mean    sd .truth   max  rate replications summary_fun proc  conf.level aspect type 
    [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m        [3m [38;5;246m&lt;chr&gt; [39m [23m       [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m   [3m [38;5;246m&lt;chr&gt; [39m [23m
 [38;5;250m 1 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        t.te…        0.9 ci_le… t.te…
 [38;5;250m 2 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        t.te…        0.9 cover… t.te…
 [38;5;250m 3 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 ci_le… boot…
 [38;5;250m 4 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 ci_le… boot…
 [38;5;250m 5 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 ci_le… boot…
 [38;5;250m 6 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 ci_le… boot…
 [38;5;250m 7 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 ci_le… boot…
 [38;5;250m 8 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 cover… boot…
 [38;5;250m 9 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 cover… boot…
 [38;5;250m10 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 mean        boot…        0.9 cover… boot…
 [38;5;246m# ℹ 62 more rows [39m
 [38;5;246m# ℹ 1 more variable: value &lt;dbl&gt; [39m
Number of data generating functions: 3
Number of analyzing procedures: 4
Number of replications: 1000
Estimated replications per hour: 14643
Start of the simulation: 2025-04-05 13:33:31.416754
End of the simulation: 2025-04-05 13:37:37.259046</code></pre>
<p>Finally, we can visualize the summarized results:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">et</span><span class="op">$</span><span class="va">simulation</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fun</span>, y <span class="op">=</span> <span class="va">value</span>, group <span class="op">=</span> <span class="va">type</span>, fill <span class="op">=</span> <span class="va">type</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">value</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_label</span><span class="op">(</span>position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span><span class="fl">0.9</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">facet_grid</span><span class="op">(</span><span class="va">aspect</span> <span class="op">~</span> <span class="va">conf.level</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span></span></code></pre></div>
<p><img src="simTool_files/figure-html/unnamed-chunk-33-1.png" width="1248"></p>
</div>
<div class="section level4">
<h4 id="a-different-implementation">A different implementation<a class="anchor" aria-label="anchor" href="#a-different-implementation"></a>
</h4>
<p>Here we briefly realize the simulation differently by leveraging data
analyzing functions with unified return-objects:</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">t_test</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">conf.level</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">x</span>, conf.level <span class="op">=</span> <span class="va">conf.level</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># unify return</span></span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"t.test"</span>, lower <span class="op">=</span> <span class="va">tt</span><span class="op">$</span><span class="va">conf.int</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, upper <span class="op">=</span> <span class="va">tt</span><span class="op">$</span><span class="va">conf.int</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">bootstrap_ci</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">conf.level</span>, <span class="va">R</span> <span class="op">=</span> <span class="fl">999</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">boot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot</a></span><span class="op">(</span><span class="va">x</span>, <span class="kw">function</span><span class="op">(</span><span class="va">d</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      variance <span class="op">=</span> <span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="va">n</span><span class="op">^</span><span class="fl">2</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span>, R <span class="op">=</span> <span class="va">R</span><span class="op">)</span></span>
<span>  <span class="va">ci</span> <span class="op">&lt;-</span> <span class="fu">boot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></span><span class="op">(</span><span class="va">b</span>, conf <span class="op">=</span> <span class="va">conf.level</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span>  <span class="va">method</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"normal"</span>, <span class="st">"basic"</span>, <span class="st">"student"</span>, <span class="st">"percent"</span>, <span class="st">"bca"</span><span class="op">)</span></span>
<span>  <span class="va">ret</span> <span class="op">=</span> <span class="va">ci</span><span class="op">[</span><span class="va">method</span><span class="op">]</span></span>
<span>  <span class="va">lower</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">ret</span>, <span class="op">~</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">nth</a></span><span class="op">(</span><span class="va">.x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">upper</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">ret</span>, <span class="op">~</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">nth</a></span><span class="op">(</span><span class="va">.x</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">type</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"boot"</span>, <span class="va">method</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># unify return</span></span>
<span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>type <span class="op">=</span> <span class="va">type</span>, lower <span class="op">=</span> <span class="va">lower</span>, upper <span class="op">=</span> <span class="va">upper</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">dg</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rnorm"</span>, n <span class="op">=</span> <span class="fl">10L</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"runif"</span>, n <span class="op">=</span> <span class="fl">10L</span>, max <span class="op">=</span> <span class="fl">6</span>, .truth <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"rexp"</span>, n <span class="op">=</span> <span class="fl">10L</span>, rate <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>, .truth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu">simTool</span><span class="fu">::</span><span class="fu"><a href="../reference/expand_tibble.html">expand_tibble</a></span><span class="op">(</span></span>
<span>  proc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"t_test"</span>,<span class="st">"bootstrap_ci"</span><span class="op">)</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9</span>, <span class="fl">0.95</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>R <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">proc</span> <span class="op">==</span> <span class="st">"bootstrap_ci"</span>, <span class="fl">100</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">et</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_tibbles.html">eval_tibbles</a></span><span class="op">(</span><span class="va">dg</span>, <span class="va">pg</span>,</span>
<span>  replications <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">2</span>, ncpus <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span>
<span><span class="va">et</span></span></code></pre></div>
<pre><code> [38;5;246m# A tibble: 3,600 × 14 [39m
   fun       n  mean    sd .truth   max  rate replications proc  conf.level     R type  lower  upper
    [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m         [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m       [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m 1 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 t_te…       0.9      [31mNA [39m t.te… - [31m1 [39m [31m. [39m [31m56 [39m 0.235 
 [38;5;250m 2 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.9    100 boot… - [31m1 [39m [31m. [39m [31m54 [39m 0.200 
 [38;5;250m 3 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.9    100 boot… - [31m1 [39m [31m. [39m [31m64 [39m 0.177 
 [38;5;250m 4 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.9    100 boot… - [31m1 [39m [31m. [39m [31m64 [39m 0.500 
 [38;5;250m 5 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.9    100 boot… - [31m1 [39m [31m. [39m [31m51 [39m 0.312 
 [38;5;250m 6 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.9    100 boot… - [31m1 [39m [31m. [39m [31m54 [39m 0.098 [4m7 [24m
 [38;5;250m 7 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 t_te…       0.95     [31mNA [39m t.te… - [31m1 [39m [31m. [39m [31m77 [39m 0.446 
 [38;5;250m 8 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.95   100 boot… - [31m1 [39m [31m. [39m [31m57 [39m 0.123 
 [38;5;250m 9 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.95   100 boot… - [31m1 [39m [31m. [39m [31m73 [39m 0.257 
 [38;5;250m10 [39m rnorm    10     0  1.73      0     [31mNA [39m     [31mNA [39m            1 boot…       0.95   100 boot… - [31m1 [39m [31m. [39m [31m83 [39m 0.716 
 [38;5;246m# ℹ 3,590 more rows [39m
Number of data generating functions: 3
Number of analyzing procedures: 4
Number of replications: 100
Estimated replications per hour: 153054
Start of the simulation: 2025-04-05 13:37:38.744685
End of the simulation: 2025-04-05 13:37:41.096785</code></pre>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grps</span> <span class="op">&lt;-</span> <span class="va">et</span><span class="op">$</span><span class="va">simulation</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">replications</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">fun</span><span class="op">:</span><span class="va">type</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="va">names</span></span>
<span></span>
<span><span class="va">et</span><span class="op">$</span><span class="va">simulation</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>covered <span class="op">=</span> <span class="va">lower</span> <span class="op">&lt;=</span> <span class="va">.truth</span> <span class="op">&amp;</span> <span class="va">.truth</span> <span class="op">&lt;=</span> <span class="va">upper</span>,</span>
<span>         ci_length <span class="op">=</span> <span class="va">upper</span> <span class="op">-</span> <span class="va">lower</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span>.dots <span class="op">=</span> <span class="va">grps</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>coverage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">covered</span><span class="op">)</span>,</span>
<span>            ci_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ci_length</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code> [1m [22m`summarise()` has grouped output by 'fun', 'n', 'mean', 'sd', '.truth', 'max', 'rate', 'proc',
'conf.level', 'R'. You can override using the `.groups` argument.</code></pre>
<pre><code> [38;5;246m# A tibble: 36 × 13 [39m
 [38;5;246m# Groups:   fun, n, mean, sd, .truth, max, rate, proc, conf.level, R [12] [39m
   fun       n  mean    sd .truth   max  rate proc         conf.level     R type  coverage ci_length
    [3m [38;5;246m&lt;chr&gt; [39m [23m  [3m [38;5;246m&lt;int&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m   [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m              [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;dbl&gt; [39m [23m  [3m [38;5;246m&lt;chr&gt; [39m [23m     [3m [38;5;246m&lt;dbl&gt; [39m [23m      [3m [38;5;246m&lt;dbl&gt; [39m [23m
 [38;5;250m 1 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.9    100 boot…     0.8       1.61
 [38;5;250m 2 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.9    100 boot…     0.8       1.76
 [38;5;250m 3 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.9    100 boot…     0.8       1.60
 [38;5;250m 4 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.9    100 boot…     0.81      1.61
 [38;5;250m 5 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.9    100 boot…     0.88      2.42
 [38;5;250m 6 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.95   100 boot…     0.82      1.93
 [38;5;250m 7 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.95   100 boot…     0.85      2.03
 [38;5;250m 8 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.95   100 boot…     0.83      1.89
 [38;5;250m 9 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.95   100 boot…     0.85      1.93
 [38;5;250m10 [39m rexp     10     [31mNA [39m     [31mNA [39m   1.73     [31mNA [39m 0.577 bootstrap_ci       0.95   100 boot…     0.93      3.26
 [38;5;246m# ℹ 26 more rows [39m</code></pre>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marsel Scheer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
